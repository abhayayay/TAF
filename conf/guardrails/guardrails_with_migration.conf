upgrade.durability_upgrade.UpgradeTests:
    # Migration with Resident ratio guardrail
    test_upgrade,nodes_init=3,update_nodes=kv,upgrade_type=online_swap,upgrade_chain=7.2.0,sdk_client_pool=True,skip_buckets_handle=True,upgrade_with_data_load=True,doc_size=1024,randomize_value=True,bucket_storage=couchstore,magma_upgrade=False,migrate_storage_backend=True,migration_procedure=swap_rebalance,preferred_storage_mode=magma,bucket_spec=upgrade_test.10_percent_couchstore,test_guardrail_migration=True,guardrail_type=resident_ratio,breach_guardrail=False,cluster_profile=provisioned,enable_tls=True,tls_level=all,GROUP=rr_guardrail_allow_migration_to_magma
    test_upgrade,nodes_init=3,update_nodes=kv,upgrade_type=online_swap,upgrade_chain=7.2.0,sdk_client_pool=True,skip_buckets_handle=True,upgrade_with_data_load=True,doc_size=1024,randomize_value=True,bucket_storage=couchstore,magma_upgrade=False,migrate_storage_backend=True,migration_procedure=swap_rebalance,preferred_storage_mode=magma,bucket_spec=upgrade_test.10_percent_couchstore,test_guardrail_migration=True,guardrail_type=resident_ratio,breach_guardrail=True,cluster_profile=provisioned,enable_tls=True,tls_level=all,GROUP=rr_guardrail_restrict_migration_to_magma
    test_upgrade,nodes_init=3,update_nodes=kv,upgrade_type=online_swap,upgrade_chain=7.2.0,sdk_client_pool=True,skip_buckets_handle=True,upgrade_with_data_load=True,doc_size=1024,randomize_value=True,bucket_storage=magma,magma_upgrade=True,migrate_storage_backend=True,migration_procedure=swap_rebalance,preferred_storage_mode=couchstore,bucket_spec=upgrade_test.10_percent_dgm,test_guardrail_migration=True,guardrail_type=resident_ratio,breach_guardrail=False,cluster_profile=provisioned,enable_tls=True,tls_level=all,GROUP=rr_guardrail_allow_migration_to_couchstore
    test_upgrade,nodes_init=3,update_nodes=kv,upgrade_type=online_swap,upgrade_chain=7.2.0,sdk_client_pool=True,skip_buckets_handle=True,upgrade_with_data_load=True,doc_size=1024,randomize_value=True,bucket_storage=magma,magma_upgrade=True,migrate_storage_backend=True,migration_procedure=swap_rebalance,preferred_storage_mode=couchstore,bucket_spec=upgrade_test.10_percent_dgm,test_guardrail_migration=True,guardrail_type=resident_ratio,breach_guardrail=True,cluster_profile=provisioned,enable_tls=True,tls_level=all,GROUP=rr_guardrail_restrict_migration_to_couchstore

    # Migration with max bucket size per node guardrail
    test_upgrade,nodes_init=3,update_nodes=kv,upgrade_type=online_swap,upgrade_chain=7.2.0,sdk_client_pool=True,skip_buckets_handle=True,upgrade_with_data_load=True,doc_size=1024,randomize_value=True,bucket_storage=couchstore,magma_upgrade=False,migrate_storage_backend=True,migration_procedure=swap_rebalance,preferred_storage_mode=magma,bucket_spec=upgrade_test.10_percent_couchstore,test_guardrail_migration=True,guardrail_type=bucket_size,breach_guardrail=True,cluster_profile=provisioned,enable_tls=True,tls_level=all,GROUP=bucket_size_guardrail_restrict_migration_to_magma
    test_upgrade,nodes_init=3,update_nodes=kv,upgrade_type=online_swap,upgrade_chain=7.2.0,sdk_client_pool=True,skip_buckets_handle=True,upgrade_with_data_load=True,doc_size=1024,randomize_value=True,bucket_storage=couchstore,magma_upgrade=False,migrate_storage_backend=True,migration_procedure=swap_rebalance,preferred_storage_mode=magma,bucket_spec=upgrade_test.10_percent_couchstore,test_guardrail_migration=True,guardrail_type=bucket_size,breach_guardrail=False,cluster_profile=provisioned,enable_tls=True,tls_level=all,GROUP=bucket_size_guardrail_allow_migration_to_magma
    test_upgrade,nodes_init=3,update_nodes=kv,upgrade_type=online_swap,upgrade_chain=7.2.0,sdk_client_pool=True,skip_buckets_handle=True,upgrade_with_data_load=True,doc_size=1024,randomize_value=True,bucket_storage=magma,magma_upgrade=True,migrate_storage_backend=True,migration_procedure=swap_rebalance,preferred_storage_mode=couchstore,bucket_spec=upgrade_test.10_percent_dgm,test_guardrail_migration=True,guardrail_type=bucket_size,breach_guardrail=True,cluster_profile=provisioned,enable_tls=True,tls_level=all,GROUP=bucket_size_guardrail_restrict_migration_to_couchstore
    test_upgrade,nodes_init=3,update_nodes=kv,upgrade_type=online_swap,upgrade_chain=7.2.0,sdk_client_pool=True,skip_buckets_handle=True,upgrade_with_data_load=True,doc_size=1024,randomize_value=True,bucket_storage=magma,magma_upgrade=True,migrate_storage_backend=True,migration_procedure=swap_rebalance,preferred_storage_mode=couchstore,bucket_spec=upgrade_test.10_percent_dgm,test_guardrail_migration=True,guardrail_type=bucket_size,breach_guardrail=False,cluster_profile=provisioned,enable_tls=True,tls_level=all,GROUP=bucket_size_guardrail_allow_migration_to_couchstore
